# Nicovideo Ranking Archives

![GitHub repo size](https://img.shields.io/github/repo-size/niconicolibs/ranking-archives?logo=github&style=flat-square)
![GitHub commit activity](https://img.shields.io/github/commit-activity/m/niconicolibs/ranking-archives?logo=github&style=flat-square)
![GitHub last commit](https://img.shields.io/github/last-commit/niconicolibs/ranking-archives?logo=github&style=flat-square)
![Status](https://img.shields.io/github/workflow/status/niconicolibs/ranking-archives/get-ranking?style=flat-square&logo=github&label=Status)

This repository stores the historical ranking data of NicoNicoDouga from when ranking data began to be provided to now.

***Attention***
- Data in this repository are not guaranteed to be complete.
- The administrator does not take any responsibility for using the data in this repository.
- Do not contact the Nicovideo regarding the contacts of this repository.
- This repository stores an archive in case Nicovideo disappears or the past ranking logs are no longer available.

## Update
Repository data update status

|Name|Status|
|----|------|
|legacy|![Status](https://img.shields.io/static/v1?label=Status&message=All%20done&color=success&style=flat-square&logo=github)|
|current|![Status](https://img.shields.io/static/v1?label=Status&message=~2022-09-26&color=success&style=flat-square&logo=github)|
|now|![Status](https://img.shields.io/github/workflow/status/niconicolibs/ranking-archives/get-ranking?style=flat-square&logo=github&label=Status)|

## Directory structure
```
.
├─ legacy
│　 ├─ total
│　 │　 └─ {l_type}
│　 │　 　　 └─ {l_category}.json
│　 └─ daily
│　 　　 └─ {l_category}
│　 　　 　　 └─ {l_type}
│　 　　 　　 　　 └─ {year}
│　 　　 　　 　　 　　 └─ {month}
│　 　　 　　 　　 　　 　　 └─ {date}.json
└─ ranking
　　 ├─ {n_type(daily or total)}
　　 │　 └─ {year}
　　 │　 　　 └─ {month}
　　 │　 　　 　　 └─ {n_date}
　　 │　 　　 　　 　　 ├─ file_name_list.json
　　 │　 　　 　　 　　 ├─ {n_genre}.json
　　 │　 　　 　　 　　 └─ {n_genre}_{n_tagIndex}.json
　　 └─ {n_type(monthly or weekly)}
　　 　　 └─ {year}
　　 　　 　　 └─ {n_date}
　　 　　 　　 　　 ├─ file_name_list.json
　　 　　 　　 　　 └─ {n_genre}.json
``` 

### Variables
- `l_type`

   `fav`, `view`, `comment`, or `mylist` which means the aggregation method of legacy(old) ranking
- `l_category`

   Categories in NicoNicoDouga on legacy(old) ranking
   ```python
   categorys = [
     "all",
     "g_ent2", "ent", "music", "sing", "play", "dance", "vocaloid", "nicoindies", "asmr", "mmd", "virtual",
     "g_life2", "animal", "cooking", "nature", "travel", "sport", "lecture", "drive", "history", "train",
     "g_tech", "science", "tech", "handcraft", "make",
     "g_politics",
     "g_culture2", "anime", "game", "jikkyo", "toho", "imas", "radio", "draw", "trpg",
     "g_other", "are", "diary", "other",
     "g_r18",
     "que", "chat", "test", "owner", "commons", "hitokoto", "fashion", "g_ent", "g_life", "g_try", "g_culture", "g_popular"
   ]
   ```
- `year`, `month`, and `date`

   The date the ranking was compoled
- `n_type`

   `daily`, `weekly`, `monthly`, or `total` which means the aggregation span of current(new) ranking
- `n_genre` and `n_tagIndex`

   `n_genre` and `n_tagIndex` are detailed in `file_name_list.json` in the same directory. The former is the name of the genre subject to aggregation, and the latter is the index number of the popular tag associated with it. The relationship between index number and tag name is described in `file_name_list.json`. The relationship between index number and tag name is not kept for each day. Also, not all the same genres and tags exist.
- `n_date`

   There is almost no difference from `date`, but there is only one identifier `_05` added to the update data at 5:00 am. This is because the ranking is updated every day at 5:00 AM only for `daily` and `total`.

### Information
The data in the `legacy` folder is from April 3, 2007 to June 29, 2019 and was generated by the old ranking system. However, the aggregation method `fav` started from October 29, 2009, and the start date and end date may differ depending on the category. Also, the total data was aggregated on June 29, 2019.
The data in the `ranking` folder is based on the current new ranking system, which started on June 11, 2019. The sorting method is based on a secret and unique calculation formula, and the number of points has not been announced. Also, `daily` and `total` rankings are aggregated at midnight and at 5:00, the latter is not guaranteed to be generated. Also, unlike the `legacy` archive, the top 1000 are saved.

## Thanks
This repository has been created based on the information of the following APIs. We would like to thank all those involved.
- [LegacyRankingAPI](https://nvapi.nicovideo.jp/v1/ranking/legacy)
- [OldRankingAPI](https://dcdn.cdn.nimg.jp/nicovideo/old-ranking)
- [CurrentRankingAPI](https://nvapi.nicovideo.jp/v1/ranking/genre/)

## License
The data in this repository is available under the following proprietary licenses.
1. Available for research and investigative purposes only.
2. No commercial or malicious use.
3. Secondary distribution of the data itself is not allowed.
4. Any event caused by this data is self-responsibility.

